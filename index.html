<!DOCTYPE html>
<html lang="en">
<head>
  <title>Adaptive Assignment #2 </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script type="text/javascript">
	var reader = new XMLHttpRequest() || new ActiveXObject('MSXML2.XMLHTTP');
	function loadFile(id) {
		//Loading files one by one
		var fileData, myData;
		var lines;
		$.get('results.txt', function(data) {
        		lines = data.split('\n');
        		//alert(lines[id-1]);
        		var temp = lines[id-1].split(',');
        		//alert(temp);
        		var i=1;
 	   		temp.forEach(function(file, index){
    		 		$.get(file, function(datafil) {
        				myData = datafil.split("\n");
        				var myVar = ''+i+'';
        				document.getElementById(myVar).innerHTML = "";
        				$("#"+i+"").append("RECOMMENDATION "+i +":"+"<BR>");
        				$("#"+i+"").append(myData);
        				$("#"+i+"").height(50);
					document.getElementById(myVar).style.overflow = "scroll";
        				i=i+1;
    			    	});
 		  	});
		});
		
		$.get('Query.txt', function(data) {
        		lines = data.split('\n');
        		document.getElementById("Search").innerHTML = "";
        		$("Search").height(50);
     	      		document.getElementById("Search").innerHTML = "SEARCH QUERY IS "+"<BR>"
        		document.getElementById("Search").innerHTML += lines[id-1];
        		document.getElementById("Search").style.overflow = "scroll";
		});
	}
</script>
  </script>
</head>
<body>

<div class="container">
  <h2> Search Queries</h2>
  <p> These are the list of input queries. Click on any of them to view recommendations...</p>  
  <p> <i> Details on Crawling and Indexing are provided at the bottom of the page</p> </i> 
  <ul class="pagination">
    <li><a href="#" onclick="loadFile(1)">1</a></li>
    <li><a href="#" onclick="loadFile(2)">2</a></li>
    <li><a href="#" onclick="loadFile(3)">3</a></li>
    <li><a href="#" onclick="loadFile(4)">4</a></li>
    <li><a href="#" onclick="loadFile(5)">5</a></li>
    <li><a href="#" onclick="loadFile(6)">6</a></li>
    <li><a href="#" onclick="loadFile(7)">7</a></li>
    <li><a href="#" onclick="loadFile(8)">8</a></li>
    <li><a href="#" onclick="loadFile(9)">9</a></li>
    <li><a href="#" onclick="loadFile(10)">10</a></li>	
  </ul>
  <BR><BR><BR>
  <div class="container">  
  <font color="#0404B4"><div id="Search" ><h5>SEARCH QUERY..<BR></h5></div></font>
  </div>
</div>

<div class="container">
  <div><B><h4> RECOMMENDATIONS ARE</B> </h4><BR></div>
  <div class="well well-lg" id="1" ><h5>RECOMMENDATION 1</h5><br></div>
  <div class="well well-lg" id="2"><h5>RECOMMENDATION 2</h5><br></div>
  <div class="well well-lg" id="3"><h5>RECOMMENDATION 3</h5><br></div>
  <div class="well well-lg" id="4"><h5>RECOMMENDATION 4</h5><br></div>
  <div class="well well-lg" id="5"><h5>RECOMMENDATION 5</h5><br></div>
  <div class="well well-lg" id="6"><h5>RECOMMENDATION 6</h5><br></div>
  <div class="well well-lg" id="7"><h5>RECOMMENDATION 7</h5><br></div>
  <div class="well well-lg" id="8"><h5>RECOMMENDATION 8</h5><br></div>
  <div class="well well-lg" id="9"><h5>RECOMMENDATION 9</h5><br></div>
  <div class="well well-lg" id="10"><h5>RECOMMENDATION 10</h5><br></div>
</div>

<div class="container">
  <div><B><h4> INDEXING AND RECOMMENDATION </B> </h4></div>
  <div class="well well-lg" id="1" >
  	<ul>
  	<li>  All the paragraphs from WikiBooks contents and the page content from Oracle pages have been crawled for this exercise. </li>
  	<li>  Crawling WikiBooks:<br>
  		<ul>
  		<li>Level 1: All hyperlinks from the home page were extracted.</li>
  		<li>Level 2: All the paragraphs from the subpages were extracted using the p tag content 
  		</ul>	
  	</li>
  	<li> Crawling Oracle Pages: <BR>
  	 	<ul>
  		 <li> Level 1: All hyperlinks from the home page were extracted. </li>
  		 <li> Level 2: The content of each page was extracted using the body tag </li>
  		</ul>
  	</li>
  	<li>  Lucene Recommendation: <BR>
  		Each paragraph is stored as a separate text file and given as input to Lucene. There were close to 650 crawled text files that 
  		were provided to Lucene Recommendation. The query string is read from the excel input provided (Column: Text) and parsed to remove any special characters using QueryParser.escape function. The recommended text files are written to project directory and index.html reads the data based on input query.
  	</li>
  	</ul>
 
  </div>
</div>

</body>
</html>
